{% extends "layouts/main.html" %}

{% from "components/service-header/macro.njk" import serviceHeader %}

{% set formLibrary = require("data/form-library.json") %}

{% switch data["sort"] %}
  {% case "updated-oldest" %}
    {% set sortBy = "updated.date" %}
    {% set sortReverse = false %}
  {% case "status" %}
    {% set sortBy = "status" %}
    {% set sortReverse = false %}
  {% case "published-newest" %}
    {% set filterBy = "published" %}
    {% set sortBy = "published.date" %}
    {% set sortReverse = true %}
  {% case "published-oldest" %}
    {% set filterBy = "published" %}
    {% set sortBy = "published.date" %}
    {% set sortReverse = false %}
{% endswitch %}

{% set formItems = formLibrary.items | selectattr(filterBy) if filterBy else formLibrary.items %}
{% set formItems = formItems | sort(attribute="updated.date", reverse=true) %}

{% set pageCount = (formItems.length / 25) | round(0, "ceil") %}
{% set pageCurrent = data["page"] | abs if data["page"] and data["page"] | abs <= pageCount else 1 %}

{% set pageName = "Form home - Apply for a county parish holding number in England" %}

{% block header %}
  {{ serviceHeader({
    serviceName: "Defra form builder",
    pageName: "Apply for a county parish holding number in England",
    accountName: "Chris Smith",
    homepageLink: "/",
    signOutLink: "/form-designer-v2/onboarding/sign-out-confirmation",
    navigationItems: [{
      href: "/index.html",
      text: 'Form library',
      id: 'servicelink3'
    },{
      href: "/",
      text: "Form home",
      id: "form-home"
    }],
    activeLinkId: "form-home"
  }) }}
{% endblock %}

{% block content %}
{% from "govuk/components/notification-banner/macro.njk" import govukNotificationBanner %}

<div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds">
{% set html %}
  <h3 class="govuk-notification-banner__heading">
    Form closed successfully
  </h3>
{% endset %}


{{ govukNotificationBanner({
  html: html,
  type: "success"
}) }}
</div>
</div>
<div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds">
    <!-- <h1 class="govuk-heading-xl">Apply for a county parish holding number in England</h1> -->

    {% from "govuk/components/summary-list/macro.njk" import govukSummaryList %}
<h1 class="govuk-heading-l">Forms</h2>

<dl class="govuk-summary-list">
  <div class="govuk-summary-list__row">
    <dt class="govuk-summary-list__key">
      Status
    </dt>
    <dd class="govuk-summary-list__value">
      <strong class="govuk-tag govuk-tag--pink">
        Closed
      </strong>
    </dd>
  </div>
  <div class="govuk-summary-list__row">
    <dt class="govuk-summary-list__key">
      Action
    </dt>

    <dd class="govuk-summary-list__actions" >
      <ul class="govuk-summary-list__actions-list" style="text-align: left; font-weight: 600;>
        <li class="govuk-summary-list__actions-list-item">
          <a class="govuk-link" href="#">Preview<span class="govuk-visually-hidden"> contact details</span></a>
        </li>
      </ul>
    </dd>

  </div>
  <div class="govuk-summary-list__row">
    <dt class="govuk-summary-list__key">
      Updated
    </dt>
    <dd class="govuk-summary-list__value">
      17 Mar 2024 by Chris Smith
    </dd>

  </div>
  <div class="govuk-summary-list__row">
    <dt class="govuk-summary-list__key">
      Created
    </dt>
    <dd class="govuk-summary-list__value">
      <p class="govuk-body">11 Oct 2023 by Waylon Brady</p>
    </dd>

  </div>
  <div class="govuk-summary-list__row">
    <dt class="govuk-summary-list__key">
      Preview closed form
    </dt>
    <dd class="govuk-summary-list__value" style="width: 100%;">
      <p class="govuk-body"><a href="#" class="govuk-link">https://preview.forms.cyb.dev/closed/user-research-test/whats-the-name-of-the-applicant</a>.
      </p>
    </dd>
  </div>
  <div class="govuk-summary-list__row">
    <dt class="govuk-summary-list__key">
      Closure redirect
    </dt>
    <dd class="govuk-summary-list__value" style="width: 100%;">
      <p class="govuk-body"><a href="#" class="govuk-link">https://www.defra-forms.service.gov.uk/apply-for-a county-parish-holiding-certificate/service-unavailable</a>.
      </p>
    </dd>
  </div>
</dl>

      {% from "govuk/components/summary-list/macro.njk" import govukSummaryList %}
      <h2 class="govuk-heading-m govuk-!-padding-top-4">Organisation details</h2>

      <dl class="govuk-summary-list">
        <div class="govuk-summary-list__row">
          <dt class="govuk-summary-list__key">
            Notification email
          </dt>
          <dd class="govuk-summary-list__value">
            <p class="govuk-body">PolicyTeam@defra.gov.uk</p>
            <dd class="govuk-summary-list__actions">
              <a class="govuk-link" href="#">Change<span class="govuk-visually-hidden"> date of birth</span></a>
            </dd>
          </dd>

        </div>
        <div class="govuk-summary-list__row">
          <dt class="govuk-summary-list__key">
            Form name
          </dt>
          <dd class="govuk-summary-list__value">
            Apply for a county parish holding number in England
          </dd>
          <dd class="govuk-summary-list__actions">
            <a class="govuk-link" href="#">Change<span class="govuk-visually-hidden"> date of birth</span></a>
          </dd>
        </div>

        <div class="govuk-summary-list__row">
          <dt class="govuk-summary-list__key">
            Lead organisation
          </dt>
          <dd class="govuk-summary-list__value">
            Center for Environment, Fisheries and Aquaculture Science - Cefas
          </dd>
          <dd class="govuk-summary-list__actions">
            <a class="govuk-link" href="#">Change<span class="govuk-visually-hidden"> date of birth</span></a>
          </dd>
        </div>
        <div class="govuk-summary-list__row">
          <dt class="govuk-summary-list__key">
            Team name
          </dt>
          <dd class="govuk-summary-list__value">
            Policy directorate
          </dd>
          <dd class="govuk-summary-list__actions">
            <a class="govuk-link" href="#">Change<span class="govuk-visually-hidden"> date of birth</span></a>
          </dd>
        </div>
        <div class="govuk-summary-list__row">
          <dt class="govuk-summary-list__key">
            Shared email address
          </dt>
          <dd class="govuk-summary-list__value">
            SM-Defra-Not-Real@defra.gov.uk
          </dd>
          <dd class="govuk-summary-list__actions">
            <a class="govuk-link" href="#">Change<span class="govuk-visually-hidden"> date of birth</span></a>
          </dd>
        </div>
      </dl>


</div>


  <div class="govuk-grid-column-one-third">

    <div style="background-color: #f7f7f7; padding: 15px;">
      <h2 class="govuk-heading-m">Manage form</h2>
      <a href="/form-settings.html">
        <button type="submit" class="govuk-button" data-module="govuk-button" style="width: 100%; margin-bottom: 15px;">
            Create draft to edit
        </button>
    </a>


      <button type="submit" class="govuk-button govuk-button--warning" data-module="govuk-button" style="width: 100%;margin-bottom: 15px;">
        Re-open closed form
      </button>
  </div>


    <hr class="govuk-section-break govuk-section-break--m govuk-section-break--visible">
    <h2 class="govuk-heading-m">Internal notes</h2>
    {{ govukButton({
      text: "Add internal note",
      classes: "govuk-button--secondary"
    }) }}





          {%- from "moj/components/timeline/macro.njk" import mojTimeline -%}


          {{ mojTimeline({
            items: [
              {
                label: {
                  text:  "Changed field validation behaviour"
                },
                text: "Updated the email address input field to include a more sophisticated validation check, reducing the incidence of users entering incorrect email formats.",
                datetime: {
                  timestamp: "2019-06-07T12:32:00.000Z",
                  type: "datetime"
                },
                byline: {
                  text: "Chris Smith"
                }
              },
              {
                label: {
                  text:  "New form created"
                },
                text: "Name of form: Report a dead wild bird. Lead organisation: Defra. SME/Policy team: Policy directorate.",
                datetime: {
                  timestamp: "2019-06-07T12:32:00.000Z",
                  type: "datetime"
                },
                byline: {
                  text: "Moshe Pitt"
                }
              }
            ]
          }) }}

        </div>
  </div>
</div>

{% endblock %}
