{% extends "layouts/main.html" %}

{% from "components/service-header/macro.njk" import serviceHeader %}

{% set pageName = "Number of questions - Apply for a county parish holding number in England" %}

{% block header %}
{{ serviceHeader({
organisationName: "Defra",
productName: "Forms Designer",
serviceName: "",
containerClasses: containerClasses,
accountName: "Chris Smith",
homepageLink: "/",
signOutLink: "/onboarding/sign-out-confirmation",
navigationItems: [
{ href: "/library.html", text: "Forms library", id: "nav-library" },
{ href: "/cph-overview/draft/complete-clean.html", text: "Overview", id: "nav-overview" },
{ href: "/editor-pets/0", text: "Editor", id: "nav-editor" }
],
activeLinkId: "nav-editor"
}) }}
{% endblock %}

{% block content %}

<div class="govuk-grid-row">
    <div class="govuk-grid-column-full">
        <div class="app-masthead">
            <div class="app-width-container">
                <div class="govuk-grid-row">
                    <div class="govuk-grid-column-full">
                        <span class="govuk-caption-l" style="color: #ffffff;">Apply for a county parish holding
                            certificate</span>
                        <h1 class="govuk-heading-xl app-masthead__title">Edit draft form</h1>
                        <p class="app-masthead__description">Create and manage the pages in this form.</p>
                        <a href="/get-started/" role="button" draggable="false"
                            class="govuk-button govuk-button--inverse govuk-!-margin-top-6 govuk-!-margin-bottom-0 govuk-button--start"
                            data-module="govuk-button">
                            Preview form
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <nav class="moj-sub-navigation" aria-label="Sub navigation">
            <div class="moj-sub-navigation__container">
                <ul class="moj-sub-navigation__list" id="nav-list1">
                    <li class="moj-sub-navigation__item">
                        <a class="moj-sub-navigation__link" aria-current="page" href="#your-pages">Pages</a>
                    </li>
                    {# <li class="moj-sub-navigation__item">
                        <a class="moj-sub-navigation__link" href="#" id="groups"></a>
                    </li> #}
                </ul>

            </div>
        </nav>

        <div class="govuk-grid-row">
            <div class="govuk-grid-column-one-half" id="container">

                {% from "govuk/components/radios/macro.njk" import govukRadios %}

                <form class="form" action="/page-type-answer" method="post">
                    {% block beforeContent %}
                    {{ govukBackLink({
                    text: "Back",
                    href: "javascript:window.history.back()"
                    }) }}
                    {% endblock %}

                    {% set morethan1Html %}
                    <div class="govuk-form-group">

                        <fieldset class="govuk-fieldset" role="group" aria-describedby="dob-hint">
                            <legend class="govuk-fieldset__legend govuk-fieldset__legend">
                                <h1 class="govuk-fieldset__heading">
                                    Set the minimum and maximum times a user can answer questions
                                </h1>
                            </legend>
                            <div id="dob-hint" class="govuk-hint">
                                The maximum limit should be no more than 25
                            </div>
                            <div class="govuk-date-input" id="dob">
                                <div class="govuk-date-input__item">
                                    <div class="govuk-form-group">
                                        <label class="govuk-label govuk-date-input__label" for="dob-day">
                                            Min
                                        </label>
                                        <input class="govuk-input govuk-date-input__input govuk-input--width-2"
                                            id="dob-day" name="dob-day" type="text" autocomplete="bday-day"
                                            inputmode="numeric">
                                    </div>
                                </div>
                                <div class="govuk-date-input__item">
                                    <div class="govuk-form-group">
                                        <label class="govuk-label govuk-date-input__label" for="dob-month">
                                            Max
                                        </label>
                                        <input class="govuk-input govuk-date-input__input govuk-input--width-2"
                                            id="dob-month" name="dob-month" type="text" autocomplete="bday-month"
                                            inputmode="numeric">
                                    </div>
                                </div>
                            </div>
                    </div>





                    {% endset -%}

                    {{ govukRadios({
                    name: "responseType",
                    fieldset: {
                    legend: {
                    text: "How many times can people answer questions on this page?",
                    isPageHeading: true,
                    classes: "govuk-fieldset__legend--l"
                    }
                    },
                    hint: {
                    text: "Turn the questions on this page into a set of questions that users can answer multiple
                    times"
                    },
                    items: [
                    {
                    value: "once",
                    text: "Once",
                    id:"once",
                    conditional: {
                    html: onceHtml
                    }
                    },
                    {
                    value: "morethan1",
                    text: "More than once",
                    id:"more-than-1",
                    conditional: {
                    html: morethan1Html
                    }

                    }
                    ]
                    }) }}

                    {{ govukButton({
                    text: "Save and continue"
                    }) }}

                </form>

                <hr class="govuk-section-break govuk-section-break--m govuk-section-break--visible">

                <h2 class="govuk-heading-m">End pages</h2>

                <div class="govuk-summary-card"
                    style="border-left: solid 4px 	#b1b4b6!important; outline-color: transparent; border: 1px solid transparent;">
                    <div class="govuk-summary-card__title-wrapper" tabindex="0">
                        <h2 class="govuk-summary-card__title">Check answers page</h2>
                        <ul class="govuk-summary-card__actions">
                            <li class="govuk-summary-card__action">
                                <a class="govuk-link" href="#">Edit<span class="govuk-visually-hidden">Edit check
                                        answers page</span></a>
                            </li>
                            <li class="govuk-summary-card__action">
                                <a class="govuk-link" href="#">Preview<span class="govuk-visually-hidden">Preview check
                                        answers page</span></a>
                            </li>
                        </ul>
                    </div>
                </div>

                <div class="govuk-summary-card"
                    style="border-left: solid 4px 	#b1b4b6!important; outline-color: transparent; border: 1px solid transparent;">
                    <div class="govuk-summary-card__title-wrapper" tabindex="0">
                        <h2 class="govuk-summary-card__title">Confirmation page</h2>
                        <ul class="govuk-summary-card__actions">
                            <li class="govuk-summary-card__action">
                                <a class="govuk-link" href="#">Edit<span class="govuk-visually-hidden">Edit confirmation
                                        page</span></a>
                            </li>
                            <li class="govuk-summary-card__action">
                                <a class="govuk-link" href="#">Preview<span class="govuk-visually-hidden">Preview
                                        confirmation page</span></a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <script>
            // Wait for the DOM to fully load
            document.addEventListener('DOMContentLoaded', function () {
                // Get the radio group element by its ID
                const radioGroup = document.getElementById('question-page-radio-group');

                // Check if the element exists and scroll it into view
                if (radioGroup) {
                    radioGroup.scrollIntoView({ behavior: 'smooth', block: 'center' });
                } else {
                    console.error("Radio group element not found.");
                }
            });
        </script>

        {% endblock %}