{% extends "layouts/main.html" %}

{% from "components/service-header/macro.njk" import serviceHeader %}

{% set pageName = "New form editor - Defra Forms Designer" %}

{% block header %}
  {{ serviceHeader({
    organisationName: "Defra",
    productName: "Forms Designer",
    homepageLink: "/",
    signOutLink: "/"
  }) }}
{% endblock %}


{% block beforeContent %}
{{ govukBreadcrumbs({
    items: [
      {
        text: "New form editor",
        href: "/new-editor/home.html"
      },
      {
        text: "1 question per page",
        href: "/new-editor/1-question/summary.html"
      },
      {
        text: "Information type selection",
        href: "/new-editor/1-question/information-type/home.html"
      }
    ]
  }) }}
{% endblock %}

{% block content %}


<div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds">
    <span class="govuk-caption-xl">New form editor (1 question per page)</span>
    <h1 class="govuk-heading-xl">Information type selection</h1>
  </div>

  <div class="govuk-grid-column-two-thirds">
    <h2 class="govuk-heading-l">What</h2>
    <p class="govuk-body">
      This page helps users decide what type of information they need to collect from respondents for a specific page in the form.
  </p>
  <p class="govuk-body">
      Available options include:
  </p>
  <ul class="govuk-list govuk-list--bullet">
      <li>
          <strong>Written answer:</strong> A short or long response as text or a number.
      </li>
      <li>
          <strong>Date:</strong> A day, month, and year, or month and year only.
      </li>
      <li>
          <strong>UK address:</strong> A full street address, town or city, and postcode.
      </li>
      <li>
          <strong>Phone number:</strong> A UK phone number, such as <code>07700 900 982</code> or <code>+44 808 157 0192</code>.
      </li>
      <li>
          <strong>Supporting evidence:</strong> A file upload for documents like DOC, PDF, CSV, or Excel.
      </li>
      <li>
          <strong>Email address:</strong> An email address, such as <code>name@example.com</code>.
      </li>
      <li>
          <strong>List of options:</strong> A predefined list for users to choose from.
      </li>
  </ul>

  {% from "govuk/components/inset-text/macro.njk" import govukInsetText %}

{{ govukInsetText({
  text: "When selection information types on a page with more than 1 question, users do not get the option to ask for supporting evidence."
}) }}

    <span class="govuk-caption-m govuk-!-margin-bottom-1">Preview</span>
    <div class="iframe-container govuk-!-margin-bottom-6" role="region" aria-labelledby="preview-heading">
      <h2 id="preview-heading" class="govuk-visually-hidden">Preview of the form</h2>
      <iframe
        src="https://defra-forms-mvp-prototype-6c025bd15252.herokuapp.com/redesigntest/templates/1-question/information-type"
        class="iframe-content"
        scrolling="yes"
        frameborder="0"
        title="Form preview"
        marginheight="0"
        marginwidth="0"
        height="500px"
        width="100%"
        allowfullscreen>
      </iframe>
      <div class="iframe-tabs" role="navigation" aria-label="Preview controls">
        <a
          class="govuk-link govuk-link--no-visited-state iframe-tab maximise-button"
          style="border-right: #007f3b 1px solid;"
          href="#"
          role="button"
          aria-label="Maximise preview"
          title="Maximise preview"
          tabindex="0">
          Maximise
        </a>
        <a
          class="govuk-link govuk-link--no-visited-state iframe-tab"
          href="https://defra-forms-mvp-prototype-6c025bd15252.herokuapp.com/redesigntest/listing"
          target="_blank"
          rel="noopener noreferrer"
          aria-label="Open preview in a new tab"
          title="Open preview in a new tab">
          Open in a new tab
        </a>
      </div>
    </div>
</div>

  <div class="govuk-grid-column-one-third">
    <div class="gem-c-related-navigation">
      <h2 id="related-content-heading" class="gem-c-related-navigation__main-heading">
        Related content (links open in a new tab)
      </h2>
      <nav
        role="navigation"
        class="gem-c-related-navigation__nav-section"
        aria-labelledby="related-content-heading">
        <ul class="gem-c-related-navigation__link-list">
          <li class="gem-c-related-navigation__link">
            <a
            class="govuk-link govuk-link gem-c-related-navigation__section-link  govuk-link gem-c-related-navigation__section-link--other"
              href="/apply-apprenticeship"
              rel="noreferrer noopener"
              target="_blank">
              Design history
            </a>
          </li>
          <li class="gem-c-related-navigation__link">
            <a
            class="govuk-link govuk-link gem-c-related-navigation__section-link  govuk-link gem-c-related-navigation__section-link--other"
              href="/redesigntest/templates/1-question/information-type"
              rel="noreferrer noopener"
              target="_blank">
              View the 'Information type selection' demo page
            </a>
          </li>
        </ul>
      </nav>
    </div>
  </div>
</div>



<style>
  .link-container {
    display: flex;
    align-items: left;
    margin-bottom: 15px;
  }

  .link-container a {
    padding: 0px 10px;
  }

  .link-container a:first-child {
    border-right: 1px solid #ccc;
    padding-left: 0;
  }


        .govuk-card__flex-container {
    display: flex;
    flex-wrap: wrap;
    gap: 20px!important; /* Spacing between cards */
}

.govuk-card__flex-item {
    flex: 1 1 calc(33.333% - 20px); /* 3 columns with spacing */
    max-width: calc(33.333% - 20px); /* Ensure cards don't grow too wide */
    box-sizing: border-box;
}

@media (max-width: 768px) {
    .govuk-card__flex-item {
        flex: 1 1 calc(50% - 20px); /* 2 columns on medium screens */
        max-width: calc(50% - 20px);
    }
}

@media (max-width: 480px) {
    .govuk-card__flex-item {
        flex: 1 1 100%; /* 1 column on small screens */
        max-width: 100%;
    }
}

.govuk-card--selectable {
    position: relative;
    transition: background-color 0.2s ease, box-shadow 0.2s ease;
}

.govuk-card--selectable:hover {
    background-color: #008938;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
}

.govuk-card--selectable:hover .govuk-card__content h3,
.govuk-card--selectable:hover .govuk-card__content p {
    color: #fff;
}

.govuk-card--selectable a {
    position: absolute;
    top: 0;
    left: 0;
    height: 100%;
    width: 100%;
    z-index: 0;
}

.govuk-card--selectable a:focus {
    outline: 2px solid #ffdd00; /* GOV.UK focus color */
    background-color: initial !important;
}



.gem-c-related-navigation__section-link {
    font-weight: bold;
}

.gem-c-related-navigation__section-link--other {
    font-weight: normal;
}



.gem-c-related-navigation {
    border-top: 2px solid #1d70b8;
    margin-bottom: 60px;
    color: #0b0c0c;
}

.gem-c-related-navigation__main-heading {
    margin-top: 15px;
    margin-bottom: 10px;
    font-family: "GDS Transport",arial,sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    font-weight: 700;
    font-size: 1.1875rem;
    line-height: 1.3157894737;
}

.gem-c-related-navigation__nav-section {
    margin-bottom: 30px;
}

.gem-c-related-navigation__link-list {
    padding: 0;
    margin: 0;
    list-style: none;
    margin-bottom: 1.25em;
}

.gem-c-related-navigation__link {
    list-style-type: none;
    margin-top: 15px;
    font-family: "GDS Transport",arial,sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    font-weight: 400;
    font-size: 1rem;
    line-height: 1.45;
}

@media (min-width: 40.0625em){
  .gem-c-related-navigation__link {
    line-height: 1.28;
  }  }

  .iframe-container {
  border: 5px solid black;
  border-radius: 4px;
  padding: 0;
  overflow: hidden;
  position: relative; /* Ensure tabs stay relative to the container */
}

.iframe-tabs {
  display: flex;
  justify-content: flex-end;
  border-bottom: 1px solid #ccc;
  background-color: #f8f8f8;
  position: absolute; /* Tabs stay positioned above the iframe */
  top: 0;
  left: 0;
  right: 0;
  z-index: 10;
  padding: 10px;
}

.iframe-tab {
  text-align: center;
  padding: 10px;
  font-size: 16px;
  text-decoration: none;
  cursor: pointer;
}

.iframe-tab:hover {
  background-color: #e8e8e8;
}

.iframe-container.fullscreen {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100vh;
  z-index: 9999;
  background-color: white;
}

.iframe-container.fullscreen .iframe-tabs {
  position: fixed; /* Keeps tabs at the top in fullscreen mode */
  z-index: 9999;
  background-color: white; /* Ensures visibility */
}

.iframe-container.fullscreen .iframe-content {
  height: calc(100vh - 50px); /* Deduct tab height from viewport */
  width: 100%;
  border: none;
}


</style>

<script>
document.querySelector('.maximise-button').addEventListener('click', function (event) {
  event.preventDefault();

  const iframeContainer = document.querySelector('.iframe-container');
  const iframe = document.querySelector('.iframe-content');
  const button = event.target;

  // Toggle fullscreen mode
  if (iframeContainer.classList.contains('fullscreen')) {
    iframeContainer.classList.remove('fullscreen');
    iframe.style.height = '400px'; // Reset iframe height
    button.textContent = 'Maximise';
  } else {
    iframeContainer.classList.add('fullscreen');
    iframe.style.height = 'calc(100vh - 50px)';
    button.textContent = 'Minimise';
  }
});


</script>

{% endblock %}

